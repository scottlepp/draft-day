{"ast":null,"code":"var _jsxFileName = \"/Users/scott/projects/ffdraft/draft-day/src/pages/Draft.tsx\",\n    _s = $RefreshSig$();\n\nimport { useState } from 'react';\nimport { IonContent, IonList, IonPage, useIonViewWillEnter } from '@ionic/react';\nimport './Home.css';\nimport { IonItemSliding, IonItem, IonLabel, IonItemOptions, IonItemOption } from '@ionic/react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Draft = () => {\n  _s();\n\n  const [players, setPlayers] = useState([]);\n  useIonViewWillEnter(() => {\n    fetchAvailablePlayers().then(players => setPlayers(players));\n  });\n\n  const fetchAvailablePlayers = async () => {\n    const players = await fetchPlayers();\n    const drafted = await fetchDrafted();\n    return players.filter(p => {\n      return drafted.findIndex(d => d.name === p.name) === -1;\n    });\n  };\n\n  const fetchPlayers = async () => {\n    const res = await fetch('https://jayzheng-ff-api.herokuapp.com/rankings?format=standard');\n    const players = await res.json();\n    return players.rankings;\n  };\n\n  const fetchDrafted = async () => {\n    const data = localStorage.getItem('dd-players') || '[]';\n    const players = JSON.parse(data);\n    return Promise.resolve(players);\n  };\n\n  const refresh = e => {\n    setTimeout(() => {\n      e.detail.complete();\n    }, 3000);\n  };\n\n  const add = player => {\n    const data = localStorage.getItem('dd-players') || '[]';\n    const myPlayers = JSON.parse(data);\n    myPlayers.push(player);\n    localStorage.setItem('dd-players', JSON.stringify(myPlayers)); // const available = players.filter((p:any) => myPlayers.findIndex((m: any) => m.name === player.name))\n\n    const available = players.filter(p => p.name !== player.name);\n    setPlayers(available);\n  };\n\n  const drafted = player => {\n    const data = localStorage.getItem('dd-drafted') || '[]';\n    const drafted = JSON.parse(data);\n    drafted.push(player);\n    localStorage.setItem('dd-drafted', JSON.stringify(drafted)); // const available = players.filter((p:any) => myPlayers.findIndex((m: any) => m.name === player.name))\n\n    const available = players.filter(p => p.name !== player.name);\n    setPlayers(available);\n  };\n\n  return /*#__PURE__*/_jsxDEV(IonPage, {\n    id: \"home-page\",\n    children: /*#__PURE__*/_jsxDEV(IonContent, {\n      children: /*#__PURE__*/_jsxDEV(IonList, {\n        children: players.map(p => {\n          return /*#__PURE__*/_jsxDEV(IonItemSliding, {\n            children: [/*#__PURE__*/_jsxDEV(IonItemOptions, {\n              side: \"start\",\n              children: /*#__PURE__*/_jsxDEV(IonItemOption, {\n                onClick: () => add(p),\n                children: \"Draft\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 112,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(IonItem, {\n              children: [/*#__PURE__*/_jsxDEV(IonLabel, {\n                children: p.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 116,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(IonLabel, {\n                slot: \"end\",\n                children: p.tier\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 117,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(IonItemOptions, {\n              side: \"end\",\n              children: /*#__PURE__*/_jsxDEV(IonItemOption, {\n                color: \"danger\",\n                onClick: () => drafted(p),\n                children: \"Drafted\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 121,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 15\n            }, this)]\n          }, p.name, true, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 13\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 86,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Draft, \"ZbpRx4coA8lK4CkWD6abd2SH7jo=\", false, function () {\n  return [useIonViewWillEnter];\n});\n\n_c = Draft;\nexport default Draft;\n\nvar _c;\n\n$RefreshReg$(_c, \"Draft\");","map":{"version":3,"sources":["/Users/scott/projects/ffdraft/draft-day/src/pages/Draft.tsx"],"names":["useState","IonContent","IonList","IonPage","useIonViewWillEnter","IonItemSliding","IonItem","IonLabel","IonItemOptions","IonItemOption","Draft","players","setPlayers","fetchAvailablePlayers","then","fetchPlayers","drafted","fetchDrafted","filter","p","findIndex","d","name","res","fetch","json","rankings","data","localStorage","getItem","JSON","parse","Promise","resolve","refresh","e","setTimeout","detail","complete","add","player","myPlayers","push","setItem","stringify","available","map","tier"],"mappings":"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","sourcesContent":["import { useState } from 'react';\nimport {\n  IonBadge,\n  IonContent,\n  IonHeader,\n  IonList,\n  IonPage,\n  IonRefresher,\n  IonRefresherContent,\n  IonRouterOutlet,\n  IonTabBar,\n  IonTabButton,\n  IonTabs,\n  IonTitle,\n  IonToolbar,\n  useIonViewWillEnter\n} from '@ionic/react';\nimport './Home.css';\nimport PlayerListItem from '../components/PlayerListItem';\n\nimport { IonItemSliding, IonItem, IonLabel, IonItemOptions, IonItemOption, IonIcon, IonNote } from '@ionic/react';\n\nimport { heart, trash, star, archive, ellipsisHorizontal, ellipsisVertical } from 'ionicons/icons';\n\nimport { calendar, personCircle, map, informationCircle } from 'ionicons/icons';\nimport { Redirect, Route } from 'react-router';\n\nconst Draft: React.FC = () => {\n\n  const [players, setPlayers] = useState<any[]>([]);\n\n  useIonViewWillEnter(() => {\n    fetchAvailablePlayers().then((players) =>\n      setPlayers(players)\n    );\n  });\n\n  const fetchAvailablePlayers = async() => {\n    const players = await fetchPlayers();\n    const drafted = await fetchDrafted();\n    return players.filter((p: any) => {\n      return drafted.findIndex((d: any) => d.name === p.name) === -1;\n    });\n  }\n\n  const fetchPlayers = async() => {\n    const res = await fetch('https://jayzheng-ff-api.herokuapp.com/rankings?format=standard');\n    const players = await res.json();\n    return players.rankings;\n  }\n\n  const fetchDrafted = async() => {\n    const data = localStorage.getItem('dd-players') || '[]';\n    const players = JSON.parse(data);\n    return Promise.resolve(players);\n  }\n\n  const refresh = (e: CustomEvent) => {\n    setTimeout(() => {\n      e.detail.complete();\n    }, 3000);\n  };\n\n\n  const add = (player: any) => {\n    const data = localStorage.getItem('dd-players') || '[]';\n    const myPlayers = JSON.parse(data);\n    myPlayers.push(player);\n    localStorage.setItem('dd-players', JSON.stringify(myPlayers));\n    // const available = players.filter((p:any) => myPlayers.findIndex((m: any) => m.name === player.name))\n    const available = players.filter((p:any) => p.name !== player.name);\n    setPlayers(available);\n  };\n\n  const drafted = (player: any) => {\n    const data = localStorage.getItem('dd-drafted') || '[]';\n    const drafted = JSON.parse(data);\n    drafted.push(player);\n    localStorage.setItem('dd-drafted', JSON.stringify(drafted));\n    // const available = players.filter((p:any) => myPlayers.findIndex((m: any) => m.name === player.name))\n    const available = players.filter((p:any) => p.name !== player.name);\n    setPlayers(available);\n  };\n\n  return (\n    <IonPage id=\"home-page\">\n      {/* <IonHeader>\n        <IonToolbar>\n          <IonTitle>Players</IonTitle>\n        </IonToolbar>\n      </IonHeader> */}\n      <IonContent>\n\n        {/* <IonRefresher slot=\"fixed\" onIonRefresh={refresh}>\n          <IonRefresherContent></IonRefresherContent>\n        </IonRefresher> */}\n\n        {/* <IonHeader collapse=\"condense\">\n          <IonToolbar>\n            <IonTitle size=\"large\">\n              Inbox\n            </IonTitle>\n          </IonToolbar>\n        </IonHeader> */}\n\n        <IonList>\n          {/* {players.map(m => <PlayerListItem key={m.name} player={m} />)} */}\n          {players.map(p => {\n            return (\n            <IonItemSliding key={p.name}>\n              <IonItemOptions side=\"start\">\n                <IonItemOption onClick={() => add(p)}>Draft</IonItemOption>\n              </IonItemOptions>\n          \n              <IonItem>\n                <IonLabel>{p.name}</IonLabel>\n                <IonLabel slot=\"end\">{p.tier}</IonLabel>\n              </IonItem>\n          \n              <IonItemOptions side=\"end\">\n                <IonItemOption color=\"danger\" onClick={() => drafted(p)}>Drafted</IonItemOption>\n              </IonItemOptions>\n            </IonItemSliding>\n            )\n          })}\n        </IonList>\n      </IonContent>\n    </IonPage>\n  );\n};\n\nexport default Draft;\n"]},"metadata":{},"sourceType":"module"}