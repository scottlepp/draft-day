{"ast":null,"code":"import _regeneratorRuntime from\"/Users/scott/projects/ffdraft/draft-day/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/scott/projects/ffdraft/draft-day/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/scott/projects/ffdraft/draft-day/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState}from'react';import{IonContent,IonList,IonPage,useIonViewWillEnter}from'@ionic/react';import'./Home.css';import{IonItemSliding,IonItem,IonLabel,IonItemOptions,IonItemOption}from'@ionic/react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Drafted=function Drafted(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),players=_useState2[0],setPlayers=_useState2[1];useIonViewWillEnter(function(){fetchPlayers().then(function(players){return setPlayers(players);});});var fetchPlayers=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var data,players;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:data=localStorage.getItem('dd-drafted')||'[]';players=JSON.parse(data);return _context.abrupt(\"return\",Promise.resolve(players));case 3:case\"end\":return _context.stop();}}},_callee);}));return function fetchPlayers(){return _ref.apply(this,arguments);};}();var refresh=function refresh(e){setTimeout(function(){e.detail.complete();},3000);};var remove=function remove(player){var data=localStorage.getItem('dd-drafted')||'[]';var players=JSON.parse(data);players=players.filter(function(p){return p.name!==player.name;});localStorage.setItem('dd-drafted',JSON.stringify(players));setPlayers(players);};return/*#__PURE__*/_jsx(IonPage,{id:\"home-page\",children:/*#__PURE__*/_jsx(IonContent,{children:/*#__PURE__*/_jsx(IonList,{children:players.map(function(p){return/*#__PURE__*/_jsxs(IonItemSliding,{children:[/*#__PURE__*/_jsx(IonItemOptions,{side:\"start\",children:/*#__PURE__*/_jsx(IonItemOption,{onClick:function onClick(){return remove(p);},children:\"Remove\"})}),/*#__PURE__*/_jsxs(IonItem,{children:[/*#__PURE__*/_jsxs(IonLabel,{children:[p.name,\"(\",p.rank,\")\"]}),/*#__PURE__*/_jsx(IonLabel,{slot:\"end\",children:p.tier})]})]},p.name);})})})});};export default Drafted;","map":{"version":3,"sources":["/Users/scott/projects/ffdraft/draft-day/src/pages/Drafted.tsx"],"names":["useState","IonContent","IonList","IonPage","useIonViewWillEnter","IonItemSliding","IonItem","IonLabel","IonItemOptions","IonItemOption","Drafted","players","setPlayers","fetchPlayers","then","data","localStorage","getItem","JSON","parse","Promise","resolve","refresh","e","setTimeout","detail","complete","remove","player","filter","p","name","setItem","stringify","map","rank","tier"],"mappings":"udAAA,OAASA,QAAT,KAAyB,OAAzB,CACA,OAEEC,UAFF,CAIEC,OAJF,CAKEC,OALF,CAcEC,mBAdF,KAeO,cAfP,CAgBA,MAAO,YAAP,CAGA,OAASC,cAAT,CAAyBC,OAAzB,CAAkCC,QAAlC,CAA4CC,cAA5C,CAA4DC,aAA5D,KAAmG,cAAnG,C,wFAOA,GAAMC,CAAAA,OAAiB,CAAG,QAApBA,CAAAA,OAAoB,EAAM,CAE9B,cAA8BV,QAAQ,CAAQ,EAAR,CAAtC,wCAAOW,OAAP,eAAgBC,UAAhB,eAEAR,mBAAmB,CAAC,UAAM,CACxBS,YAAY,GAAGC,IAAf,CAAoB,SAACH,OAAD,QAClBC,CAAAA,UAAU,CAACD,OAAD,CADQ,EAApB,EAGD,CAJkB,CAAnB,CAMA,GAAME,CAAAA,YAAY,0FAAG,oJACbE,IADa,CACNC,YAAY,CAACC,OAAb,CAAqB,YAArB,GAAsC,IADhC,CAEbN,OAFa,CAEHO,IAAI,CAACC,KAAL,CAAWJ,IAAX,CAFG,iCAGZK,OAAO,CAACC,OAAR,CAAgBV,OAAhB,CAHY,wDAAH,kBAAZE,CAAAA,YAAY,0CAAlB,CAMA,GAAMS,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAACC,CAAD,CAAoB,CAClCC,UAAU,CAAC,UAAM,CACfD,CAAC,CAACE,MAAF,CAASC,QAAT,GACD,CAFS,CAEP,IAFO,CAAV,CAGD,CAJD,CAMA,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,CAACC,MAAD,CAAiB,CAC9B,GAAMb,CAAAA,IAAI,CAAGC,YAAY,CAACC,OAAb,CAAqB,YAArB,GAAsC,IAAnD,CACA,GAAIN,CAAAA,OAAO,CAAGO,IAAI,CAACC,KAAL,CAAWJ,IAAX,CAAd,CACAJ,OAAO,CAAGA,OAAO,CAACkB,MAAR,CAAe,SAACC,CAAD,QAAWA,CAAAA,CAAC,CAACC,IAAF,GAAWH,MAAM,CAACG,IAA7B,EAAf,CAAV,CACAf,YAAY,CAACgB,OAAb,CAAqB,YAArB,CAAmCd,IAAI,CAACe,SAAL,CAAetB,OAAf,CAAnC,EACAC,UAAU,CAACD,OAAD,CAAV,CACD,CAND,CAQA,mBACE,KAAC,OAAD,EAAS,EAAE,CAAC,WAAZ,uBAME,KAAC,UAAD,wBAcE,KAAC,OAAD,WAEGA,OAAO,CAACuB,GAAR,CAAY,SAAAJ,CAAC,CAAI,CAChB,mBACA,MAAC,cAAD,yBACE,KAAC,cAAD,EAAgB,IAAI,CAAC,OAArB,uBACE,KAAC,aAAD,EAAe,OAAO,CAAE,yBAAMH,CAAAA,MAAM,CAACG,CAAD,CAAZ,EAAxB,oBADF,EADF,cAKE,MAAC,OAAD,yBACE,MAAC,QAAD,YAAWA,CAAC,CAACC,IAAb,KAAoBD,CAAC,CAACK,IAAtB,OADF,cAEE,KAAC,QAAD,EAAU,IAAI,CAAC,KAAf,UAAsBL,CAAC,CAACM,IAAxB,EAFF,GALF,GAAqBN,CAAC,CAACC,IAAvB,CADA,CAgBD,CAjBA,CAFH,EAdF,EANF,EADF,CA6CD,CA3ED,CA6EA,cAAerB,CAAAA,OAAf","sourcesContent":["import { useState } from 'react';\nimport {\n  IonBadge,\n  IonContent,\n  IonHeader,\n  IonList,\n  IonPage,\n  IonRefresher,\n  IonRefresherContent,\n  IonRouterOutlet,\n  IonTabBar,\n  IonTabButton,\n  IonTabs,\n  IonTitle,\n  IonToolbar,\n  useIonViewWillEnter\n} from '@ionic/react';\nimport './Home.css';\nimport PlayerListItem from '../components/PlayerListItem';\n\nimport { IonItemSliding, IonItem, IonLabel, IonItemOptions, IonItemOption, IonIcon, IonNote } from '@ionic/react';\n\nimport { heart, trash, star, archive, ellipsisHorizontal, ellipsisVertical } from 'ionicons/icons';\n\nimport { calendar, personCircle, map, informationCircle } from 'ionicons/icons';\nimport { Redirect, Route } from 'react-router';\n\nconst Drafted: React.FC = () => {\n\n  const [players, setPlayers] = useState<any[]>([]);\n\n  useIonViewWillEnter(() => {\n    fetchPlayers().then((players) =>\n      setPlayers(players)\n    );\n  });\n\n  const fetchPlayers = async() => {\n    const data = localStorage.getItem('dd-drafted') || '[]';\n    const players = JSON.parse(data);\n    return Promise.resolve(players);\n  }\n\n  const refresh = (e: CustomEvent) => {\n    setTimeout(() => {\n      e.detail.complete();\n    }, 3000);\n  };\n\n  const remove = (player: any) => {\n    const data = localStorage.getItem('dd-drafted') || '[]';\n    let players = JSON.parse(data);\n    players = players.filter((p:any) => p.name !== player.name);\n    localStorage.setItem('dd-drafted', JSON.stringify(players));\n    setPlayers(players);\n  };\n\n  return (\n    <IonPage id=\"home-page\">\n      {/* <IonHeader>\n        <IonToolbar>\n          <IonTitle>Players</IonTitle>\n        </IonToolbar>\n      </IonHeader> */}\n      <IonContent>\n\n        {/* <IonRefresher slot=\"fixed\" onIonRefresh={refresh}>\n          <IonRefresherContent></IonRefresherContent>\n        </IonRefresher> */}\n\n        {/* <IonHeader collapse=\"condense\">\n          <IonToolbar>\n            <IonTitle size=\"large\">\n              Inbox\n            </IonTitle>\n          </IonToolbar>\n        </IonHeader> */}\n\n        <IonList>\n          {/* {players.map(m => <PlayerListItem key={m.name} player={m} />)} */}\n          {players.map(p => {\n            return (\n            <IonItemSliding key={p.name}>\n              <IonItemOptions side=\"start\">\n                <IonItemOption onClick={() => remove(p)}>Remove</IonItemOption>\n              </IonItemOptions>\n          \n              <IonItem>\n                <IonLabel>{p.name}({p.rank})</IonLabel>\n                <IonLabel slot=\"end\">{p.tier}</IonLabel>\n              </IonItem>\n          \n              {/* <IonItemOptions side=\"end\">\n                <IonItemOption color=\"danger\" onClick={() => console.log('unread clicked')}>Drafted</IonItemOption>\n              </IonItemOptions> */}\n            </IonItemSliding>\n            )\n          })}\n        </IonList>\n      </IonContent>\n    </IonPage>\n  );\n};\n\nexport default Drafted;\n"]},"metadata":{},"sourceType":"module"}